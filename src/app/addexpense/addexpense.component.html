<script type="module" src="addexpense.component.ts"></script>
<h1> Add an Expense </h1>
<h5> Required fields are denoted by an asterisk (*)</h5> <!--sidenote-->
	<div id="error"> {{errorMessage}} </div> <!--error message position (when needed)-->
	<form [formGroup]="addexpenseForm" (ngSubmit)="submit()">

 {{formDataSubmittedtMessage}}
 

			<div id="entry" fxFlex fxLayout="row wrap" fxLayoutGap="20px">

				<mat-form-field> 
					<input matInput placeholder="Paid to" formControlName="merchant" required> <!--Merchant name input-->
				</mat-form-field>

				<mat-form-field>
					<input matInput placeholder="Description" formControlName="description"/> 
				</mat-form-field>
				<mat-form-field>

				<input matInput placeholder="Amount" formControlName="amount"  ngxCurrencyInput [(ngModel)]="value" required/> <!--Purchase cost input-->
				</mat-form-field>

				<mat-form-field>
				<input required fxFlex formControlName="dop" matInput [matDatepicker]="picker" [max]="maxDate" placeholder="Date"> 
				<mat-datepicker-toggle matSuffix [for]="picker" ></mat-datepicker-toggle>
				<mat-datepicker #picker></mat-datepicker>
				</mat-form-field>


				<mat-form-field>
				<mat-label>Who paid this expense?</mat-label>
				<mat-select formControlName="payer" multiple required> <!--Related tenants dropdown-selection-->
					<mat-option *ngFor="let payer of tenantList" [value]="payer">{{payer}} </mat-option>
				</mat-select>
			</mat-form-field>
		
			<mat-form-field> <!--tags (both provided and custom ones)-->
			<mat-chip-list #chipList>
				<mat-chip
					*ngFor="let tag of tags"
					[selectable]="selectable"
					[removable]="removable"
					(removed)="remove(tag)">
					{{tag}}
					<mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
				</mat-chip>

				<input
					placeholder="Category"
					#tagInput
					formControlName="tagged"
					[matAutocomplete]="auto"
					[matChipInputFor]="chipList"
					[matChipInputSeparatorKeyCodes]="separatorKeysCodes"
					[matChipInputAddOnBlur]="addOnBlur"
					(matChipInputTokenEnd)="add($event)">
			</mat-chip-list>

			<mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
				<mat-option *ngFor="let tag of filteredTags | async" [value]="tag">
					{{tag}}
				</mat-option>
			</mat-autocomplete>
		</mat-form-field>
					
			<!--Submit form contents-->
			<div fxFlex class="register-but">
				<button   mat-raised-button color="primary">Add</button>
			</div>

			</div>
			
	</form>